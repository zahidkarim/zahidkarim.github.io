<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <link href="/stylesheets/all.css" rel="stylesheet" />
    <title>Blog Title - Null Is Something</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <link href='http://fonts.googleapis.com/css?family=Oxygen:400,300,700'
  rel='stylesheet' type='text/css'>
  </head>
  <body>

    <div id="main" role="main">
      <nav>
  <ul>
    <li>
      <a class="blog-title" href="/">Zahid Jethani</a>
    </li>
  </ul>
</nav>

      <h2>Learnings From: <strong>RailsConf 2015 - Nothing is Something</strong></h2>

<h3>Info</h3>

<ol>
<li>The talk can be viewed <a href="https://www.youtube.com/watch?t=126&amp;v=29MAL8pJImQ">here</a></li>
<li>Speaker: Sandy Metz</li>
</ol>

<h3>Themes</h3>

<ol>
<li>Introspective into <code>if</code> statements</li>
<li>Condition Adverse | Message Centric  Abstract Seeking</li>
<li>Inheritance and Composition</li>
</ol>

<h4>Introspective into <code>if</code> statements</h4>

<p>The take away from this section is to understand Ruby&rsquo;s <code>if</code> statement essentially evaluates true and false and then acts accordingly.</p>

<p>But if statements can be enablers. Here&rsquo;s how:</p>

<p>Say we have an <code>Book</code> class and the book class has a <code>find</code> method.</p>

<pre><code>Book.find(&quot;to kill a mockingbird&quot;)
    =&gt; &lt;#Book:03939...

Book.find(&quot;&quot;)
    =&gt; nil
</code></pre>

<p>When we call <code>find()</code> we get a <code>Book</code> object back but when we call <code>find()</code> on and empty string we get <code>nil</code>. So say we want to iterate over a collection of <code>Books</code></p>

<pre><code>titles = [&quot;To Kill a Mocking Bird&quot;, &quot;&quot;, &quot;The Gambler&quot;]
all_books = titles.each { |t| Book.find(t) }
    =&gt; [&lt;#Book:8932&gt;, nil, &lt;#Book:7823&gt;]
all_books.each { |book| book.title }
    =&gt; &quot;To Kill a MockingBird&quot;
    =&gt; ###Error Occurs Here
</code></pre>

<p>This gets us thinking that <code>nil</code> went from being nothing to being something. Before we were fine with nil being in our code but now we are sending something to a <code>Null Object</code> we need to consider how to deal with it. We could use some built in methods like <code>compact(), send(), try()</code> or we could use abstraction and create a <code>MissingBook</code> Class that can return an object which can support a <code>title</code> method. Both the <code>Book</code> and <code>Missing Boo</code> classes can then be called to collect all Books:</p>

<pre><code>titles = [&quot;To Kill a Mocking Bird&quot;, &quot;&quot;, &quot;The Gambler&quot;]
all_books = titles.each { |t| Book.find(t) || MissingBook(t) }
    =&gt; [&lt;#Book:8932&gt;, &lt;#MissingBook:8432&gt;, &lt;#Book:7823&gt;]
all_books.each { |book| book.title }
    =&gt; &quot;To Kill a MockingBird&quot;
    =&gt; &quot;Missing Book&quot;
    =&gt; &quot;The Gambler&quot;
</code></pre>

<p><strong>Note:</strong> this is a key concept here. Understanding <code>nil</code> has a major role in how we develop code.</p>

<h4>Condition Adverse | Message Centric  Abstract Seeking</h4>

<p>The next key concept Sandy Metz brings up is the thought that we should approach conditionals adversely and think of objects as things we send messages to, <strong>Message Centric</strong>.</p>

<p>Lets say we have a <code>Playlist</code> class:</p>

<pre><code>class Playlist
    def songs
        [&quot;Song 1&quot;, &quot;Song 2&quot;, &quot;Song 3&quot;]
    end

    def list
        songs.each { |song| puts &quot;#{song} \n&quot; }
    end
end

Playlist.new.list
    =&gt; &quot;Song 1&quot;
    =&gt; &quot;Song 2&quot;
    =&gt; &quot;Song 3&quot;
</code></pre>

<p>Now say we need a <code>RandomPlaylist</code>:
Here we can use inheritance here to solve our issue</p>

<pre><code>class RandomPlaylist &lt; Playlist
    def songs
        super.shuffle
    end
end

RandomPlaylist.new.list
    =&gt; &quot;Song 2&quot;
    =&gt; &quot;Song 3&quot;
    =&gt; &quot;Song 1&quot;
</code></pre>

<p>Now if we want to add a <code>DuplicatePlaylist</code> where all the songs appear twice we can also use inheritance:</p>

<pre><code>class DuplicatePlaylist &lt; Playlist
    def songs
        duplicate = super.dup
        super.push(duplicate).flatten
    end
end

DuplicatePlaylist.new.list
    =&gt; &quot;Song 1&quot;
    =&gt; &quot;Song 2&quot;
    =&gt; &quot;Song 3&quot;
    =&gt; &quot;Song 1&quot;
    =&gt; &quot;Song 2&quot;
    =&gt; &quot;Song 3&quot;
</code></pre>

<p>Here is where things get hairy. What if we wanted a <code>DuplicatedRandomPlaylist</code>. Here is where inheritance gets dicey and we need to move to composition.</p>

<pre><code>class Playlist
    SONGS = [&quot;Song 1&quot;, &quot;Song 2&quot;, &quot;Song 3&quot;]

    def initialize(length:, type:)
        @songs = length.set_length(SONGS)
        @formatted = type.organize(@songs)
    end

    def list
        @formatted.each { |song| puts &quot;#{song} \n&quot; }
    end
end

class DoubleLength
    def set_length(songs)
        duplicate = songs.dup
        songs.push(duplicate).flatten
    end
end

class DefaultLength
    def set_length(songs)
        songs
    end
end

class RandomList
    def organize(songs)
        songs.shuffle
    end
end

class DefaultList
    def organize(songs)
        songs
    end
end

Playlist.new(DoubleLnegth.new,RandomList.new).list
 =&gt; Song 1
    Song 2
    Song 2
    Song 1
    Song 3
    Song 3

Playlist.new(DefaultLength.new,RandomList.new).list
=&gt;  Song 3
    Song 2
    Song 1
</code></pre>

<p><strong>Note:</strong> this take aways here are that understanding when to use inheritance and understanding when composition is needed. Inheritance is not meant for sharing of methods, it is meant for specialization of them.</p>

<p>Until Next Time.</p>

<p>Z</p>

      <footer>
  <ul class="large-column">
    <li><h5 class="heading">Recent Articles</h5></li>
    <li>
      <ol>
          <li>
            <a href="/2015/09/14/null_is_something/">Null Is Something</a>
            <span>Sep 14</span>
          </li>
          <li>
            <a href="/2015/09/14/duck_typing/">Duck Typing</a>
            <span>Sep 14</span>
          </li>
          <li>
            <a href="/2015/09/08/module-mindset/">Module Mindset</a>
            <span>Sep  8</span>
          </li>
      </ol>
    </li>
  </ul>

  <ul class="small-column">
    <li><h5 class="heading">Tags</h5></li>
    <li>
      <ol>
      </ol>
    </li>
  <ul>
</footer>

    </div>

  </body>
</html>
